<section class="form-container">
  <% unless params.valid? %>
    <div class="errors">
      <h3>There was a problem with your submission</h3>
    </div>

    <ul>
      <% params.error_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  <% end %>

  <%=
    form_for :book, path, method: method, class: :form do
      hidden_field :user_id, value: session[:user_id]

      div class: 'input-group' do
        label :title
        text_field :title, value: respond_to?(:book) ? book.title : ''
      end

      div class: 'input-group' do
        label :author
        text_field :author, value: respond_to?(:book) ? book.author : ''
      end

       div class: 'input-group' do
        label :description
        text_field :description, value: respond_to?(:book) ? book.description : ''
      end

      div class: 'controls' do
        submit submit_message, class: 'button button-submit'
      end
    end
  %>
</section>
