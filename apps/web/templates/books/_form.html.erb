<section class="form-container">
  <% unless params.valid? %>
    <div class="errors">
      <h3>There was a problem with your submission</h3>
    </div>

    <ul>
      <% params.error_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  <% end %>

  <%=
    form_for :book, path, method: method, class: :form do
      div class: 'input-group' do
        label :title
        text_field :title, value: respond_to?(:book) ? book.title : ''
      end

      div class: 'input-group' do
        label :author
        text_field :author, value: respond_to?(:book) ? book.author : ''
      end

      div class: 'controls' do
        submit submit_message
      end
    end
  %>
</section>